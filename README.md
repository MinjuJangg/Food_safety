# 💊🍽️ Food Safety RAG-QA
### RAG 기반 식품 안전 질의응답 시스템

[2025 식품의약품안전처 협력 프로젝트]  
기간: 2025.01 ~ 2025.12  

Crawling → Retrieval → Re-ranking → QA Generation (End-to-End)

## Overview

본 프로젝트는 **식품의약품안전처(MFDS)**의 방대한 공개 문서와 규제 자료를 기반으로, 
요약, 대분류, 소분류, QA 시스템 총 4가지 task를 수행

본 레포지토리는 전체 프로젝트 중 **크롤링 및 QA 파이프라인 구현 영역**을 다룸

현업 담당자가 **신속하고 정확하게 질의응답을 수행할 수 있도록 지원하는 RAG(Retrieval-Augmented Generation) 기반 QA 시스템**을 구축하는 것을 목표


##  프로젝트 개요  

본 프로젝트는 식약처 공개 문서를 수집 및 정제하고
**하이브리드 검색(BM25 + Dense Embedding) + 한국어 리랭커 + LLM 응답기**를 결합하여 실제 현업에서 문서 검토를 지원할 수 있는 QA 시스템을 구현하는 것을 목표



##  전체 프로세스  
![alt text](image.png)

```

1. **크롤링**: Playwright 기반 비동기 크롤러로 3만 건 이상의 웹 문서 수집  
2. **정제**: CETD(Content Extraction via Tag Density) 기법으로 본문 추출 및 표/이미지 후처리  
3. **인덱싱**: BM25(키워드) + LaBSE(의미 임베딩) 기반 **하이브리드 검색기** 구축  
4. **리랭킹**: Ko-Reranker로 상위 검색 결과 정밀 재정렬  
5. **QA 데이터 구축**: GPT 기반 QA 쌍 생성 및 Gemini 교차 검증  
6. **응답 생성**: Exaone/GPT API 기반 LLM으로 최종 답변 생성, 출처 인용 포함  

=> 이를 통해 단순 키워드 검색 대비 **검색 정확도와 QA 품질을 크게 향상**

```


##  주요 기능  

- **하이브리드 검색기**: BM25 + LaBSE 결합, 가중치 조정 가능  
- **리랭커**: 한국어 Ko-Reranker 적용으로 검색 결과 정밀 재정렬  
- **QA 쌍 생성**: GPT 기반 데이터 생성 + Gemini 교차 검증 파이프라인  
- **LLM 응답 생성**: Exaone/GPT API 기반 답변 생성 


##  특징  

- **온프레미스 실행 가능**: 내부 DB + 검색기만으로 동작  
- **End-to-End 자동화**: 크롤링 → 정제 → 검색 → QA 생성까지 일괄 수행  
- **다양한 문서 지원**: 표, 이미지 캡션, PDF 등 비정형 문서 처리  

##  프로젝트 의의  

- **보안성**: 내부망에서도 안전하게 활용 가능 (데이터 외부 전송 없음)  
- **효율성**: 검색 품질 23%p ↑, F1 34% ↑  
- **실용성**: 비정형 문서를 실제 업무 활용 가능한 지식으로 전환  


##  담당 역할  

- Playwright 크롤러 구현  
- BM25 + Dense 기반 하이브리드 검색기 및 Ko-Reranker 설계  
- QA 데이터 생성 및 교차 검증 파이프라인 구축  
- Hit@K, F1, METEOR 기반 검색/생성 품질 평가 수행  
